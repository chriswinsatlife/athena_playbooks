---
/**
 * SectionChecklist - Renders checklist format content
 * 
 * Displays items as a styled checklist with optional details and substeps
 */

export interface ChecklistItem {
  label: string;
  details?: string;
  substeps?: string[];
}

export interface Props {
  items: ChecklistItem[];
}

const { items } = Astro.props;
---

<div class="checklist-container">
  <ul class="checklist-list" role="list">
    {items.map((item, index) => (
      <li class="checklist-item">
        <div class="checklist-marker">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" aria-hidden="true">
            <rect x="1" y="1" width="16" height="16" rx="4" stroke="currentColor" stroke-width="1.5" fill="none"/>
          </svg>
        </div>
        
        <div class="checklist-content">
          <p class="checklist-label">{item.label}</p>
          
          {item.details && (
            <p class="checklist-details">{item.details}</p>
          )}
          
          {item.substeps && item.substeps.length > 0 && (
            <ul class="substeps-list">
              {item.substeps.map((substep) => (
                <li class="substep-item">
                  <span class="substep-bullet" aria-hidden="true"></span>
                  <span class="substep-text">{substep}</span>
                </li>
              ))}
            </ul>
          )}
        </div>
      </li>
    ))}
  </ul>
</div>

<style>
  .checklist-container {
    font-family: 'Figtree', system-ui, -apple-system, sans-serif;
  }

  .checklist-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .checklist-item {
    display: flex;
    gap: 0.875rem;
    align-items: flex-start;
  }

  .checklist-marker {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #5A8669;
    margin-top: 0.125rem;
  }

  .checklist-content {
    flex: 1;
    min-width: 0;
  }

  .checklist-label {
    font-size: 1rem;
    font-weight: 600;
    color: #403422;
    line-height: 1.5;
    margin: 0;
  }

  .checklist-details {
    font-size: 0.9375rem;
    color: #525252;
    line-height: 1.6;
    margin: 0.375rem 0 0 0;
  }

  .substeps-list {
    list-style: none;
    margin: 0.75rem 0 0 0;
    padding: 0 0 0 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    border-left: 2px solid #e5e5e5;
  }

  .substep-item {
    display: flex;
    gap: 0.625rem;
    align-items: flex-start;
    padding-left: 0.75rem;
  }

  .substep-bullet {
    flex-shrink: 0;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #5A8669;
    margin-top: 0.5rem;
  }

  .substep-text {
    font-size: 0.875rem;
    color: #525252;
    line-height: 1.5;
  }
</style>
